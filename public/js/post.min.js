$("#table-post-exceptUser").DataTable({processing:!1,info:!0,ajax:"post/getDataExceptUser",autoWidth:!1,aLengthMenu:[[5,50,100,500,1e3,-1],[5,50,100,500,1e3,"All"]],columns:[{data:"id",name:"xxx",class:"text-nowrap"},{data:"Author_Name",name:"xxx",class:"text-nowrap"},{data:"Catagory_Name",name:"xxx",class:"text-nowrap"},{data:"Tags_Name",name:"xxx",class:"text-nowrap"},{data:"title",name:"xxx",class:"text-nowrap"},{data:"metatitle",name:"xxx",class:"text-nowrap",visible:!1},{data:"Status",name:"xxx",class:"text-nowrap"},{data:"Published_at",name:"xxx",class:"text-nowrap"},{data:"Created_At",name:"xxx",class:"text-nowrap"},{data:"Updated_At",name:"xxx",class:"text-nowrap"},{data:"Actions",name:"xxx",class:"text-center"}]}),$("#table-post").DataTable({processing:!1,info:!0,ajax:"post/getData",autoWidth:!1,aLengthMenu:[[5,50,100,500,1e3,-1],[5,50,100,500,1e3,"All"]],columns:[{data:"id",name:"xxx",class:"text-nowrap"},{data:"Author_Name",name:"xxx",class:"text-nowrap"},{data:"Catagory_Name",name:"xxx",class:"text-nowrap"},{data:"Tags_Name",name:"xxx",class:"text-nowrap"},{data:"title",name:"xxx",class:"text-nowrap"},{data:"metatitle",name:"xxx",class:"text-nowrap",visible:!1},{data:"Status",name:"xxx",class:"text-nowrap"},{data:"Published_at",name:"xxx",class:"text-nowrap"},{data:"Created_At",name:"xxx",class:"text-nowrap"},{data:"Updated_At",name:"xxx",class:"text-nowrap"},{data:"Actions",name:"xxx",class:"text-center"}]}),dataColumnIsVisibleOnPageLoad("#table-post"),showHideDataTableColumn("#table-post"),$("#form-create-post").on("submit",(function(e){e.preventDefault(e);var form=this,selectCat=$("#selectCat :selected").data("id"),selectedTag=[];$("#selectTag :selected").each((function(){selectedTag.push($(this).data("tagno"))}));var title=$("#pTitle").val(),desc=$("#summernote").val();null==$("#selectCat").val()?($("#form-create-post").find("#catagoryError").text("cataory is not selected"),console.log("cataory is not selected")):0===selectedTag.length?$("#form-create-post").find("#tagError").text("Tag is not selected"):(console.log(selectCat,selectedTag,title,desc),$.ajax({url:$(form).attr("action"),method:$(form).attr("method"),data:{selectCat:selectCat,selectedTag:selectedTag,title:title,desc:desc},dataType:"json",beforeSend:function(){},success:function(data){0==data.code?$.each(data.error,(function(prefix,val){$(form).find("span."+prefix+"_error").text(val[0])})):($("#form-create-post").trigger("reset"),$("#summernote").summernote("reset"),window.location.replace("http://127.0.0.1:8000/dashboard/post"),toastr.success(data.msg))}}))})),view("#table-post","#modal-view-post","#modal-btn-view-post"),view("#table-post-exceptUser","#modal-view-post-exceptUser","#modal-btn-view-post-exceptUser"),$("#post-btn-viewCancle").on("click",(function(){$("#modal-view-post #uname,#publishedDate,#title,#desc,#tags").html("")})),$("#form-update-post").on("submit",(function(e){e.preventDefault(e);var form=this,selectCat=$("#selectCat :selected").data("id"),selectedTag=[];$("#selectTag :selected").each((function(){selectedTag.push($(this).data("tagno"))}));var title=$("#pTitle").val(),desc=$("#summernote").val();null==$("#selectCat").val()?($("#form-create-post").find("#catagoryError").text("cataory is not selected"),console.log("cataory is not selected")):0===selectedTag.length?$("#form-create-post").find("#tagError").text("Tag is not selected"):(console.log(selectCat,selectedTag,title,desc),$.ajax({url:$(form).attr("action"),type:"PUT",data:{selectCat:selectCat,selectedTag:selectedTag,title:title,desc:desc},dataType:"json",beforeSend:function(){},success:function(data){0==data.code?$.each(data.error,(function(prefix,val){$(form).find("span."+prefix+"_error").text(val[0])})):($("#form-create-post").trigger("reset"),$("#summernote").summernote("reset"),window.location.replace("http://127.0.0.1:8000/dashboard/post"),toastr.success(data.msg))}}))})),$("#table-post").on("click","#post-btn-published",(function(){var id,url="post/published/"+$(this).data("id");$.get(url,(function(data){$("#table-post").DataTable().ajax.reload(),toastr.success(data.msg)}),"json")})),del("#table-post","#modal-delete-post","#modal-btn-delete-post","#form-delete-post"),del("#table-post-exceptUser","#modal-delete-post-exceptUser","#modal-btn-delete-post-exceptUser","#form-delete-post-exceptUser");